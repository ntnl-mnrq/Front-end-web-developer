<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Function start</title>
    <style>
        .msgBox {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 242px;
            background: #eee;
        }

        .msgBox p {
            line-height: 1.5;
            padding: 10px 20px;
            color: #333;
            padding-left: 82px;
            background-position: 25px center;
            background-repeat: no-repeat;
        }

        .msgBox button {
            background: none;
            border: none;
            position: absolute;
            top: 0;
            right: 0;
            font-size: 1.1rem;
            color: #aaa;
        }
    </style>
</head>

<body>
    <button>Display message box</button>

    <script>

        const btn = document.querySelector('button');
        
        // btn.onclick = displayMesssage();
        // The parentheses in this context are sometimes called the "function invocation operator". You only use them when you want to run the function immediately in the current scope. In the same respect, the code inside the anonymous function is not run immediately, as it is inside the function scope.
        // btn.onclick = displayMesssage;

        // If we want to specify parameters inside parentheses for the function we are calling, then we can't call it directly â€” we need to put it inside an anonymous function so that it isn't in the immediate scope and therefore isn't called immediately. Now it will not be called until the button is clicked.
        btn.onclick = function() {
            displayMesssage(': n )');
            displayMesssage('olakease', 'chat');
            displayMesssage('AAAAAAAAAA!!1!!1!', 'warning');
        }

        function displayMesssage(msgText, msgTtype) {
            const html = document.querySelector('html');
            html.setAttribute('style', 'background: lavender');

            const panel = document.createElement('div');
            panel.setAttribute('class', 'msgBox');
            html.appendChild(panel);     

            const msg = document.createElement('p');
            msg.textContent = msgText;
            panel.appendChild(msg);   

            const closeBtn = document.createElement('button');
            closeBtn.textContent = 'x';
            panel.appendChild(closeBtn);

            closeBtn.onclick = function() {
                panel.parentNode.removeChild(panel);
            }

            if(msgTtype === 'warning') {
                msg.style.backgroundImage = 'url(icons/warning.png)';
                panel.style.backgroundColor = 'red';
            } else if (msgTtype === 'chat') {
                msg.style.backgroundImage = 'url(icons/chat.png)';
                panel.style.backgroundColor = 'aqua';
            } else {
                msg.style.paddingLeft = '20px';
            }
        }

        // displayMesssage();

    </script>
</body>

</html>